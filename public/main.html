<html>
<head>
	<meta charset="utf-8">
	<title>Housekeeper</title>
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<script src="http://documentcloud.github.com/underscore/underscore-min.js"></script>
	<script src="http://documentcloud.github.com/backbone/backbone-min.js"></script>

	<script> var userId = <%= user %></script>
</head>
<body>

	<header class="menubar">
		<a id="logout" href="/housekeepers/logout/<%=user%>">logout</a>
		<img class= "logo" src="/images/logo2.svg"/>
		<img id= "paintStripe" src="/images/stripe.svg "/>
	</header>



	<div id="main"></div>
	<div id= "floorBar"> 
		<button id="flAdd" class="floorbutt">Add Floor</button>
		<div id="flAddField" class="hidden">
			<button id = "flCreate" class="floorbutt" style="background: #0080FF;">Add Floor</button>
			<input type="text" id="newFlName"
			placeholder = "Floor Name" maxlength="14" required><br>
			<input type= "text" id="newFlPic"
			placeholder= "picture url" style="display:none"><br>

		</div>
	</div>


	<!-- Floor list template -->
	<script type= "text/x-handlebars-template" id="floorTemplate">
		<span class = "floor">
			<button class="floorButt"> {{ floor.fl_name }} </button><br> <button class= "FlDel">Dl</button>
			<button class='fldCreate'id="fldCreate{{floor.id}}">Add Room</button></div>
			<div id="addrmField{{floor.id}}" class="hidden">
				<button id='rmCreate' class="roomCreate" style="background: #0080FF;">Add Room</button>
				<div class="room_inputs">
					<input type='text' id='newRmName{{floor.id}}' placeholder = 'room name' required><input type='text' id='newRmPic{{floor.id}}' placeholder = 'picture url'required>
				</div>
			</div>
		</span>

	</script>

	<div id="rooms"></div>
	<!-- Room Box Template -->
	<script type= "text/x-handlebars-template" id="roomTemplate">

		<div class="roomBox" id="room{{room.id}}" style='background-image: url({{room.rmPic}});;background-size: cover;'>

			<div class="rmSubBox">
				<h3 class="roomName">{{room.roomname}}</h3>


				<div id="rmEditField{{room.id}}" class="hiddenEdit shownEdit">
					<input class="roomEdit" id="roomName{{room.id}}" style="background-color: rgba(133,133,133,.5)" value="{{room.roomname}}"type"text">
					<input class="roomEdit" id="roomPic{{room.id}}" style="background-color: rgba(133,133,133,.5)" value="{{room.rmPic}}"type"text">
					<button class="rmUpdate"> Update </button>
				</div>

				<div class="buttonOverlay">
					<div id="{{room.id}}rmCl1"class="roomColor1" style='background-color:{{room.color_1}}'></div>
					<div id="{{room.id}}rmCl2"class="roomColor2" style='background-color:{{room.color_2}}'></div>
					<div id="{{room.id}}rmCl3"class="roomColor3" style='background-color:{{room.color_3}}'></div>
					<div class="selector" style="background-color:black">
						<input id="background-color{{room.id}}" type="color" value="{{room.color_1}}" class="picker{{room.id}}" onchange="javascript:document.getElementById('chosen-color{{room.id}}').value = document.getElementById('background-color{{room.id}}').value;">

						<input id="chosen-color{{room.id}}" class="selected hidden"type="text" readonly="" value="{{room.color_1}}">
						<button class="query" id="{{room.floor_id}}">Palette</button>
						<button class="noteDisp" id="noteDisp{{room.id}}"> Notes </button>
						<button id="noteUpdate{{room.id}}" class="hidden">Update</button>
						<button class="rmEdit">Ed</button> <button class="editUpdate hidden">Update</button>  <button class= "rmDel">Dl</button>
					</div>
					<textarea name="room_notes" class="notes hidden" id ="notes{{room.id}}">{{room.to_do}}</textarea>
				</div>
			</div>
		</div>
	</script>

</body>
</div>
<script src="/scripts/handlebars-v3.0.3.js"></script>
<script src="/scripts/models.js"></script>
<script src="/scripts/collections.js"></script>
<script src="/scripts/views.js"></script>
</body>
</html>


